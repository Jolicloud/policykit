<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Authentication Agent</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.74.0">
<link rel="home" href="index.html" title="PolicyKit Library Reference Manual">
<link rel="up" href="model.html" title="PolicyKit Model">
<link rel="prev" href="model-theory-of-operation.html" title="Theory of Operation">
<link rel="next" href="polkit-conf.html" title="PolicyKit configuration">
<meta name="generator" content="GTK-Doc V1.10 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="reference" href="ref-design.html" title="Design Overview">
<link rel="chapter" href="introduction.html" title="Introduction">
<link rel="chapter" href="model.html" title="PolicyKit Model">
<link rel="chapter" href="polkit-conf.html" title="PolicyKit configuration">
<link rel="reference" href="ref-core.html" title="Core API Reference">
<link rel="reference" href="tools-fileformats.html" title="Tools and file formats">
<link rel="index" href="ix01.html" title="Index of deprecated symbols">
<link rel="index" href="ix02.html" title="Index of new symbols in 0.7">
<link rel="index" href="ix03.html" title="Index of new symbols in 0.8">
<link rel="index" href="ix04.html" title="Index">
<link rel="appendix" href="license.html" title="Appendix A. License">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="model-theory-of-operation.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="model.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">PolicyKit Library Reference Manual</th>
<td><a accesskey="n" href="polkit-conf.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="model-authentication-agent"></a>Authentication Agent</h2></div></div></div>
<p>
      To gain authorizations through authentication, an Authentication
      Agent is used. The section defines an abstract interface that
      applications can use to interact with such an agent. This allows
      different desktop environments to implement different agents
      with native look and feel.
    </p>
<p>
      The interface is quite simple. Basically, a PolicyKit
      Authentication Agent must provide the D-Bus session service with
      the unique
      name <code class="literal">org.freedesktop.PolicyKit.AuthenticationAgent</code>
      that exposes a single object with the path <code class="literal">/</code> that exports the 
      <code class="literal">org.freedesktop.PolicyKit.AuthenticationAgent</code>
      D-Bus interface. The interface is defined by the following D-Bus
      introspection data:

</p>
<pre class="programlisting">&lt;!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN" 
         "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd"&gt;

&lt;!-- This file is provided by the PolicyKit project --&gt;

&lt;node&gt;
  &lt;interface name="org.freedesktop.PolicyKit.AuthenticationAgent"&gt;

    &lt;method name="ObtainAuthorization"&gt;
      &lt;!-- IN: PolicyKit action identifier; see PolKitAction --&gt;
      &lt;arg name="action_id" direction="in" type="s"/&gt;

      &lt;!-- IN: X11 window ID for the top-level X11 window the dialog will be transient for (pass zero if no window) --&gt;
      &lt;arg name="xid" direction="in" type="u"/&gt;

      &lt;!-- IN: Process ID to grant authorization to --&gt;
      &lt;arg name="pid" direction="in" type="u"/&gt;

      &lt;!-- OUT: whether the user gained the authorization --&gt;
      &lt;arg name="gained_authorization" direction="out" type="b"/&gt;
    &lt;/method&gt;

  &lt;/interface&gt;
&lt;/node&gt;
</pre>
<p>

      This file is available
      as <code class="literal">/usr/share/dbus-1/interfaces/org.freedesktop.PolicyKit.AuthenticationAgent.xml</code>
      on a system with PolicyKit development packages installed. It
      can be used to generating client glue code.
    </p>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.10</div>
</body>
</html>
